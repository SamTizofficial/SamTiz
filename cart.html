<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SamTiz</title>

<style>
body { font-family: Arial; background:#f5f5f5; margin:0; direction:rtl; }
header { background:#079; color:#fff; padding:15px; text-align:center; }
#searchBar { width:90%; max-width:400px; padding:10px; margin:15px auto; display:block; border-radius:5px; border:1px solid #ccc; }

.product { background:#fff; margin:15px; padding:15px; border-radius:10px; text-align:center; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
.product img { width:100%; max-width:250px; border-radius:10px; margin-bottom:10px; }
.product h3 { margin:10px 0 5px; }
.product p { margin:5px 0; }
.price { color:#008000; font-size:18px; font-weight:bold; }
button { background:#079; color:#fff; border:none; padding:10px 15px; border-radius:5px; margin-top:10px; cursor:pointer; transition:0.3s; }
button:hover { background:#333; }

#cartIcon {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background:#000;
  color:#fff;
  font-size:24px;
  padding:15px;
  border-radius:50%;
  cursor:pointer;
  z-index:1000;
}

#cartIcon .badge {
  position: absolute;
  top: -5px;
  right: -5px;
  background:red;
  color:white;
  width:20px;
  height:20px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:12px;
  font-weight:bold;
}
</style>
</head>

<body>

<header>
  <h1>SamTiz</h1>
  <p>"Ø§ÙƒØªØ´Ù Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚ Ø¹Ø¨Ø± Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù…Ø¹ Ù…ÙˆÙ‚Ø¹Ù†Ø§ØŒ Ø­ÙŠØ« Ù†Ù‚Ø¯Ù… Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ© Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø©ØŒ Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø© ÙˆØ®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹Ø© ÙˆÙ…ÙˆØ«ÙˆÙ‚Ø©. ØªÙ…ÙŠØ²Ù†Ø§ ÙÙŠ Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠØ¬Ø¹Ù„Ù†Ø§ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„ Ù„ÙƒÙ„ Ù…ØªØ³ÙˆÙ‚ ÙŠØ¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø±Ø§Ø­Ø© ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©."</p>
</header>

<input type="text" id="searchBar" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬..." onkeyup="searchProducts()">

<div id="productsContainer"></div>

<div id="cartIcon" onclick="goToCart()">
  ğŸ›’
  <div class="badge" id="cartBadge">0</div>
</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart") || "[]");

// Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ù…Ø¹ Ø§Ù„Ø£ÙˆØµØ§Ù
let products = [
  {
    name: "Ù†Ø¸Ø§Ø±Ø§Øª Ø´Ù…Ø³ÙŠØ©",
    price: "150 MAD",
    img: "https://images.pexels.com/photos/701877/pexels-photo-701877.jpeg",
    desc: "Ø§Ø­Ù…Ù Ø¹ÙŠÙ†ÙŠÙƒ Ø¨Ø£Ù†Ø§Ù‚Ø© Ù…Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ù†Ø¸Ø§Ø±Ø§Øª Ø§Ù„Ø´Ù…Ø³ÙŠØ© Ø§Ù„Ø¹ØµØ±ÙŠØ©ØŒ Ø§Ù„ØªÙŠ ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹ØµØ±ÙŠ ÙˆØ§Ù„Ø±Ø§Ø­Ø©. Ø¹Ø¯Ø³Ø§Øª Ù…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ø£Ø´Ø¹Ø© ÙÙˆÙ‚ Ø§Ù„Ø¨Ù†ÙØ³Ø¬ÙŠØ© ÙˆÙ…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ù‚ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ø®Ø±ÙˆØ¬ Ø§Ù„ÙŠÙˆÙ…ÙŠ."
  },
  {
    name: "Ø³ØªØ±Ø© Ø£Ù†ÙŠÙ‚Ø©",
    price: "250 MAD",
    img: "https://images.pexels.com/photos/749072/pexels-photo-749072.jpeg",
    desc: "Ø§Ø±ØªÙ‚Ù Ø¨Ø¥Ø·Ù„Ø§Ù„ØªÙƒ Ù…Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø³ØªØ±Ø© Ø§Ù„Ø£Ù†ÙŠÙ‚Ø©ØŒ Ø§Ù„Ù…ØµÙ…Ù…Ø© Ù…Ù† Ø®Ø§Ù…Ø§Øª Ù†Ø§Ø¹Ù…Ø© ÙˆÙ…Ø±ÙŠØ­Ø©. Ù…Ø«Ø§Ù„ÙŠØ© Ù„Ù„Ø¹Ù…Ù„ Ø£Ùˆ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§Øª Ø§Ù„Ø±Ø³Ù…ÙŠØ©ØŒ ÙˆØªØªÙ…ÙŠØ² Ø¨ØªØµÙ…ÙŠÙ… Ø¹ØµØ±ÙŠ ÙˆØ¬ÙŠÙˆØ¨ Ø¹Ù…Ù„ÙŠØ©."
  },
  {
    name: "Ø³Ø§Ø¹Ø© ÙŠØ¯",
    price: "300 MAD",
    img: "https://images.pexels.com/photos/190819/pexels-photo-190819.jpeg",
    desc: "Ø£Ø¶Ù Ù„Ù…Ø³Ø© Ù…Ù† Ø§Ù„ÙØ®Ø§Ù…Ø© Ø¥Ù„Ù‰ Ø¥Ø·Ù„Ø§Ù„ØªÙƒ Ù…Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ù„Ù…ØªÙŠÙ†Ø©. ØªØµÙ…ÙŠÙ… ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ ÙŠÙ†Ø§Ø³Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø§ØªØŒ Ù…Ø¹ Ø­Ø²Ø§Ù… Ù…Ø±ÙŠØ­ ÙˆÙ…Ù‚Ø§ÙˆÙ…Ø© Ù„Ù„Ù…Ø§Ø¡ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙŠÙˆÙ…ÙŠ."
  }
];

// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©
function displayProducts(filteredProducts){
  const container = document.getElementById("productsContainer");
  container.innerHTML = "";
  filteredProducts.forEach(product=>{
    const div = document.createElement("div");
    div.className = "product";
    div.innerHTML = `
      <img src="${product.img}" alt="${product.name}">
      <h3>${product.name}</h3>
      <p>${product.desc}</p>
      <p class="price">${product.price}</p>
      <button onclick="addToCart('${product.name}','${product.price}')">Ø§Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø©</button>
    `;
    container.appendChild(div);
  });
}

// Ø§Ù„Ø¨Ø­Ø« Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
function searchProducts(){
  const query = document.getElementById("searchBar").value.toLowerCase();
  const filtered = products.filter(p => p.name.toLowerCase().includes(query));
  displayProducts(filtered);
}

// Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ù„Ù„Ø³Ù„Ø©
function addToCart(name, price){
  let item = cart.find(i => i.name === name);
  if(item){
    item.qty +=1;
  }else{
    cart.push({name, price, qty:1});
  }
  localStorage.setItem("cart", JSON.stringify(cart));
  updateCartBadge();
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø±Ù‚Ù… ÙÙŠ Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©
function updateCartBadge(){
  let totalQty = cart.reduce((acc, item)=> acc + item.qty, 0);
  document.getElementById("cartBadge").textContent = totalQty;
}

// Ø§Ù„ØªÙˆØ¬Ù‡ Ù„ØµÙØ­Ø© Ø§Ù„Ø³Ù„Ø©
function goToCart(){
  window.location.href = "cart.html";
}

// Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
window.onload = ()=>{
  displayProducts(products);
  updateCartBadge();
};
</script>

</body>
</html>
